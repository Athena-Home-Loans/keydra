
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Providers &#8212; Keydra 0.1 documentation</title>
    
  <link href="static/css/theme.css" rel="stylesheet" />
  <link href="static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    
  <link rel="preload" as="script" href="static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/doctools.js"></script>
    <script src="static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <img src='static/keydra.png'><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><ul>
    <li>
        <a href='index.html'>Home</a>
    </li>
    <li>
        <a href='quickstart.html'>Getting Started</a>
    </li>
    <li>
        <a href='providers.html'>Supported Providers</a>
    </li>
    <li>
        <a href='config_providers.html'>Configuration Providers</a>
    </li>
    <li>
        <a href='developing.html'>Developing</a>
    </li>
</ul>
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/providers.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/Athena-Home-Loans/keydra"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/Athena-Home-Loans/keydra/issues/new?title=Issue%20on%20page%20%2Fproviders.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aws-appsync">
   AWS AppSync
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aws-iam">
   AWS IAM
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aws-secrets-manager">
   AWS Secrets Manager
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bitbucket">
   Bitbucket
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cloudflare">
   Cloudflare
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-keydra.providers.contentful">
   Contentful
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#github">
   Github
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#qualys">
   Qualys
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#salesforce">
   Salesforce
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#splunk">
   Splunk
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="toctree-wrapper compound" id="providers">
</div>
<div class="section" id="id1">
<h1>Providers<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="aws-appsync">
<h2>AWS AppSync<a class="headerlink" href="#aws-appsync" title="Permalink to this headline">¶</a></h2>
<p><em>AWS Appsync</em> (declared as <cite>appsync</cite>): currently can only
<cite>rotate</cite> secrets.  Returns rotated
keys in the format:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="s2">&quot;aws_appsync&quot;</span><span class="p">,</span>
   <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;key&quot;</span><span class="p">,</span>
   <span class="nt">&quot;secret&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<span class="target" id="module-keydra.providers.aws_appsync"></span><dl class="py class">
<dt id="keydra.providers.aws_appsync.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.aws_appsync.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.aws_appsync.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.aws_appsync.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client._generate_expiry_epoch">
<code class="sig-name descname"><span class="pre">_generate_expiry_epoch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">days_from_today</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client._generate_expiry_epoch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client._get_days_from_occurrence">
<code class="sig-name descname"><span class="pre">_get_days_from_occurrence</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occurrence</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client._get_days_from_occurrence" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client._rotate">
<code class="sig-name descname"><span class="pre">_rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client._rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client.has_creds">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">has_creds</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client.has_creds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_appsync.Client.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_appsync.Client.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-appsync"><span class="std std-ref">AWS AppSync</span></a>.</p>
</div>
<div class="section" id="aws-iam">
<h2>AWS IAM<a class="headerlink" href="#aws-iam" title="Permalink to this headline">¶</a></h2>
<p><em>AWS IAM</em> (declared as <cite>iam</cite>): can only <cite>rotate</cite> secrets (as it doesn’t really
make sense for it to receive (via distribution) any secrets). Returns rotated
keys in the format:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="s2">&quot;iam&quot;</span><span class="p">,</span>
   <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;AWS ACCESS KEY ID&gt;&quot;</span><span class="p">,</span>
   <span class="nt">&quot;secret&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;AWS ACCESS SECRET KEY&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<span class="target" id="module-keydra.providers.aws_iam"></span><dl class="py class">
<dt id="keydra.providers.aws_iam.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.aws_iam.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.aws_iam.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.aws_iam.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client._create_access_key">
<code class="sig-name descname"><span class="pre">_create_access_key</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client._create_access_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client._create_user_if_not_available">
<code class="sig-name descname"><span class="pre">_create_user_if_not_available</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iam_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client._create_user_if_not_available" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client._delete_access_key">
<code class="sig-name descname"><span class="pre">_delete_access_key</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client._delete_access_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client._fetch_access_keys">
<code class="sig-name descname"><span class="pre">_fetch_access_keys</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client._fetch_access_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client._pick_best_candidate">
<code class="sig-name descname"><span class="pre">_pick_best_candidate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys_by_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client._pick_best_candidate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client._update_access_key">
<code class="sig-name descname"><span class="pre">_update_access_key</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client._update_access_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client._update_user_group_membership">
<code class="sig-name descname"><span class="pre">_update_user_group_membership</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iam_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client._update_user_group_membership" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client.has_creds">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">has_creds</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client.has_creds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_iam.Client.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam.Client.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="keydra.providers.aws_iam._explain_secret">
<code class="sig-prename descclassname"><span class="pre">keydra.providers.aws_iam.</span></code><code class="sig-name descname"><span class="pre">_explain_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aws_secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_iam._explain_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-iam"><span class="std std-ref">AWS IAM</span></a></p>
</div>
<div class="section" id="aws-secrets-manager">
<h2>AWS Secrets Manager<a class="headerlink" href="#aws-secrets-manager" title="Permalink to this headline">¶</a></h2>
<p><em>AWS SecretsManager</em> (declared as <cite>secretsmanager</cite>): currently can only
<cite>distribute</cite> secrets. <cite>rotate</cite> is only supported in conjunction with <cite>bypass: true</cite>
for retrieval of existing secrets for the purposes of distribution to respective
destinations.</p>
<p><cite>secretsmanager</cite> is _greedy_ in other words, it will take all that is provided
by the <cite>secret</cite> and stick it into AWS SecretsManager. So no 1-1 mapping or
cherry picking fragments.</p>
<span class="target" id="module-keydra.providers.aws_secretsmanager"></span><dl class="py class">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.aws_secretsmanager.</span></code><code class="sig-name descname"><span class="pre">SecretsManagerProvider</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="clients.html#keydra.clients.aws.secretsmanager.SecretsManagerClient" title="keydra.clients.aws.secretsmanager.SecretsManagerClient"><span class="pre">keydra.clients.aws.secretsmanager.SecretsManagerClient</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py class">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">Options</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bypass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate_attribute</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_char</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_punct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_upper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_each_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._asdict">
<code class="sig-name descname"><span class="pre">_asdict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._asdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new dict which maps field names to their values.</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._field_defaults">
<code class="sig-name descname"><span class="pre">_field_defaults</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{'bypass':</span> <span class="pre">False,</span> <span class="pre">'exclude_char':</span> <span class="pre">'',</span> <span class="pre">'exclude_lower':</span> <span class="pre">False,</span> <span class="pre">'exclude_num':</span> <span class="pre">False,</span> <span class="pre">'exclude_punct':</span> <span class="pre">False,</span> <span class="pre">'exclude_upper':</span> <span class="pre">False,</span> <span class="pre">'include_space':</span> <span class="pre">False,</span> <span class="pre">'length':</span> <span class="pre">32,</span> <span class="pre">'require_each_type':</span> <span class="pre">True,</span> <span class="pre">'rotate_attribute':</span> <span class="pre">None}</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._field_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._field_types">
<code class="sig-name descname"><span class="pre">_field_types</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{'bypass':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'exclude_char':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'exclude_lower':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'exclude_num':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'exclude_punct':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'exclude_upper':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'include_space':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'length':</span> <span class="pre">&lt;class</span> <span class="pre">'int'&gt;,</span> <span class="pre">'require_each_type':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'rotate_attribute':</span> <span class="pre">typing.Union[str,</span> <span class="pre">NoneType]}</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._field_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._fields">
<code class="sig-name descname"><span class="pre">_fields</span></code><em class="property"> <span class="pre">=</span> <span class="pre">('bypass',</span> <span class="pre">'rotate_attribute',</span> <span class="pre">'length',</span> <span class="pre">'exclude_char',</span> <span class="pre">'exclude_num',</span> <span class="pre">'exclude_punct',</span> <span class="pre">'exclude_upper',</span> <span class="pre">'exclude_lower',</span> <span class="pre">'include_space',</span> <span class="pre">'require_each_type')</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._fields_defaults">
<code class="sig-name descname"><span class="pre">_fields_defaults</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._fields_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._make">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">_make</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._make" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a new Options object from a sequence or iterable</p>
</dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._replace">
<code class="sig-name descname"><span class="pre">_replace</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options._replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Options object replacing specified fields with new values</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.bypass">
<code class="sig-name descname"><span class="pre">bypass</span></code><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.bypass" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_char">
<code class="sig-name descname"><span class="pre">exclude_char</span></code><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_char" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_lower">
<code class="sig-name descname"><span class="pre">exclude_lower</span></code><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_lower" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_num">
<code class="sig-name descname"><span class="pre">exclude_num</span></code><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_punct">
<code class="sig-name descname"><span class="pre">exclude_punct</span></code><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_punct" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_upper">
<code class="sig-name descname"><span class="pre">exclude_upper</span></code><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.exclude_upper" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.include_space">
<code class="sig-name descname"><span class="pre">include_space</span></code><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.include_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 8</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.length">
<code class="sig-name descname"><span class="pre">length</span></code><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.require_each_type">
<code class="sig-name descname"><span class="pre">require_each_type</span></code><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.require_each_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 9</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.rotate_attribute">
<code class="sig-name descname"><span class="pre">rotate_attribute</span></code><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options.rotate_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider._distribute_secret">
<code class="sig-name descname"><span class="pre">_distribute_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider._distribute_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider._generate_secret_value">
<code class="sig-name descname"><span class="pre">_generate_secret_value</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options" title="keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options"><span class="pre">keydra.providers.aws_secretsmanager.SecretsManagerProvider.Options</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider._generate_secret_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider._get_current_secret">
<code class="sig-name descname"><span class="pre">_get_current_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret_key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider._get_current_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.has_creds">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">has_creds</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.has_creds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.aws_secretsmanager.SecretsManagerProvider.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.aws_secretsmanager.SecretsManagerProvider.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-secretsmanager"><span class="std std-ref">AWS Secrets Manager</span></a>.</p>
</div>
<div class="section" id="bitbucket">
<h2>Bitbucket<a class="headerlink" href="#bitbucket" title="Permalink to this headline">¶</a></h2>
<p><em>Bitbucket</em> (declared as <cite>bitbucket</cite>): can <cite>distribute</cite> secrets
to the following scopes:</p>
<ul class="simple">
<li><p><cite>account</cite> (account-level env variables)</p></li>
<li><p><cite>repository</cite> (build-level or development-level env variables)</p></li>
<li><p><cite>deployment</cite> (deployment environment env variable)</p></li>
</ul>
<p>In the future will also
support <cite>rotate</cite> keys as its own secrets should be rotated by Keydra.</p>
<p>It is also a config provider. See <a class="reference internal" href="config_providers.html#cfg-providers"><span class="std std-ref">About Config Providers</span></a>.</p>
<p><cite>bitbucket</cite> requires 1:1 mapping of the secret, this is done via <cite>source</cite>.</p>
<span class="target" id="module-keydra.providers.bitbucket"></span><dl class="py class">
<dt id="keydra.providers.bitbucket.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.bitbucket.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.bitbucket.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.bitbucket.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._distribute">
<code class="sig-name descname"><span class="pre">_distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._distribute_account_secret">
<code class="sig-name descname"><span class="pre">_distribute_account_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._distribute_account_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._distribute_deployment_secret">
<code class="sig-name descname"><span class="pre">_distribute_deployment_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._distribute_deployment_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._distribute_repository_secret">
<code class="sig-name descname"><span class="pre">_distribute_repository_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._distribute_repository_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._get_or_create_environment">
<code class="sig-name descname"><span class="pre">_get_or_create_environment</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._get_or_create_environment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._load_remote_file">
<code class="sig-name descname"><span class="pre">_load_remote_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filetype</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._load_remote_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._validate_deployment_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">_validate_deployment_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._validate_deployment_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client._validate_repository_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">_validate_repository_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client._validate_repository_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client.load_config">
<code class="sig-name descname"><span class="pre">load_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client.load_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client.pre_process_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">pre_process_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client.pre_process_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.bitbucket.Client.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.bitbucket.Client.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-bitbucket"><span class="std std-ref">Bitbucket</span></a>.</p>
</div>
<div class="section" id="cloudflare">
<h2>Cloudflare<a class="headerlink" href="#cloudflare" title="Permalink to this headline">¶</a></h2>
<p><em>Cloudflare</em> (declared as <cite>cloudflare</cite>): can <cite>rotate</cite> secrets. Requires a
token with the  <em>Can create tokens</em> permission in Cloudflare, registered under
<cite>manage_tokens.secret</cite> in SecretsManager. When invoked rotates all of the
tokens pertaining to that account and make their <cite>ID</cite> and <cite>SECRET</cite> available,
as per <cite>&lt;token_name&gt;.key</cite> and <cite>&lt;token_name&gt;.secret</cite>.</p>
<span class="target" id="module-keydra.providers.cloudflare"></span><dl class="py class">
<dt id="keydra.providers.cloudflare.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.cloudflare.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.cloudflare.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.cloudflare.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.cloudflare.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.cloudflare.Client._rotate">
<code class="sig-name descname"><span class="pre">_rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.cloudflare.Client._rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.cloudflare.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.cloudflare.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.cloudflare.Client.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.cloudflare.Client.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.cloudflare.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.cloudflare.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="keydra.providers.cloudflare.CloudflareException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.cloudflare.</span></code><code class="sig-name descname"><span class="pre">CloudflareException</span></code><a class="headerlink" href="#keydra.providers.cloudflare.CloudflareException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-cloudflare"><span class="std std-ref">Cloudflare</span></a>.</p>
</div>
<div class="section" id="module-keydra.providers.contentful">
<span id="contentful"></span><h2>Contentful<a class="headerlink" href="#module-keydra.providers.contentful" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="keydra.providers.contentful.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.contentful.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.contentful.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.contentful.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.contentful.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.contentful.Client._rotate_secret">
<code class="sig-name descname"><span class="pre">_rotate_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.contentful.Client._rotate_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.contentful.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.contentful.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.contentful.Client.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.contentful.Client.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.contentful.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.contentful.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-contentful"><span class="std std-ref">Contentful</span></a>.</p>
</div>
<div class="section" id="github">
<h2>Github<a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h2>
<p><em>Github</em> can <cite>distribute</cite> secrets to the <cite>repository</cite> scope only. It is also a config provider (see <a class="reference internal" href="config_providers.html#cfg-providers"><span class="std std-ref">About Config Providers</span></a>), and can be used as a
source for your secret and environment specs. In your SAM template, use <cite>KEYDRA_CFG_PROVIDER=github</cite> to
tell Keydra to look in Github for secrets to manage.</p>
<p>This provider is really just an MVP to kickstart Github support, so other secret scopes have not yet
been implemented.</p>
<p>For a given secret specification, the <cite>distribute</cite> function will add an encrypted secret to the specified repository. See
<a class="reference external" href="https://docs.github.com/en/actions/reference/encrypted-secrets">https://docs.github.com/en/actions/reference/encrypted-secrets</a>.</p>
<p>For example, for a secret spec of:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sample</span><span class="p">:</span>
   <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydra_managed_sample</span>
   <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">A example secret which exists in IAM</span>
   <span class="nt">custodians</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my_team</span>
   <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">IAM</span>
   <span class="nt">rotate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nightly</span>
   <span class="nt">distribute</span><span class="p">:</span>
   <span class="p p-Indicator">-</span> <span class="nt">config</span><span class="p">:</span>
         <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydraconfiguration</span>
         <span class="nt">account_username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">me</span>
     <span class=" -Error"> </span><span class="nt">envs</span><span class="p">:</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dev</span>
      <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AWS_ACCESS_KEY_ID</span>
      <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">github</span>
      <span class="nt">scope</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">repository</span>
      <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">key</span>
   <span class="p p-Indicator">-</span> <span class="nt">config</span><span class="p">:</span>
         <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydraconfiguration</span>
         <span class="nt">account_username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">me</span>
     <span class=" -Error"> </span><span class="nt">envs</span><span class="p">:</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dev</span>
      <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AWS_SECRET_ACCESS_KEY</span>
      <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">github</span>
      <span class="nt">scope</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">repository</span>
      <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret</span>
</pre></div>
</div>
<p>The provider will take the AWS IAM user credentials and, using an access token from the AWS Secrets Manager secret
located at <cite>keydra/github</cite>, encrypt the IAM user Id/password values and save them to secrets within the <cite>keydraconfiguration</cite>
repo of the <cite>me</cite> organisation or Github account.</p>
<p>To use Github as your main Keydra source provider, set the relevant environment variables that your Lambda runs as. As in, set
the following in your SAM <cite>template.yaml</cite>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">Variables</span><span class="p">:</span>
   <span class="nt">KEYDRA_CFG_PROVIDER</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">github</span>
   <span class="nt">KEYDRA_CFG_CONFIG_ACCOUNTUSERNAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myAccountName</span>
   <span class="nt">KEYDRA_CFG_CONFIG_SECRETS_REPOSITORY</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydraconfiguration</span>
   <span class="nt">KEYDRA_CFG_CONFIG_SECRETS_PATH</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main/config/secrets.yaml</span>
   <span class="nt">KEYDRA_CFG_CONFIG_SECRETS_FILETYPE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yaml</span>
   <span class="nt">KEYDRA_CFG_CONFIG_ENVIRONMENTS_REPOSITORY</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydraconfiguration</span>
   <span class="nt">KEYDRA_CFG_CONFIG_ENVIRONMENTS_PATH</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main/config/environments.yaml</span>
   <span class="nt">KEYDRA_CFG_CONFIG_ENVIRONMENTS_FILETYPE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yaml</span>
</pre></div>
</div>
<span class="target" id="module-keydra.providers.github"></span><dl class="py class">
<dt id="keydra.providers.github.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.github.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.github.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.github.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client._distribute">
<code class="sig-name descname"><span class="pre">_distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client._distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client._distribute_repository_secret">
<code class="sig-name descname"><span class="pre">_distribute_repository_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client._distribute_repository_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client._load_remote_file">
<code class="sig-name descname"><span class="pre">_load_remote_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filetype</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client._load_remote_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client._validate_repository_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">_validate_repository_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client._validate_repository_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client.load_config">
<code class="sig-name descname"><span class="pre">load_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client.load_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client.pre_process_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">pre_process_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client.pre_process_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.github.Client.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.github.Client.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-github"><span class="std std-ref">Github</span></a>.</p>
</div>
<div class="section" id="qualys">
<h2>Qualys<a class="headerlink" href="#qualys" title="Permalink to this headline">¶</a></h2>
<p>Provides password rotation support for Qualys accounts. Only <cite>rotate</cite> has been implemented,
<cite>distribution</cite> is not (yet?) supported.</p>
<p>For a given secret specification, the <cite>rotate</cite> function fetches the contents of a AWS Secrets Manager
secret located at <cite>keydra/qualys/&lt;key&gt;</cite> (using the key from the spec), and changes the password of the user
specified on the Qualys platform. As Qualys does not permit a user to change their own password via API, the
secret spec needs to specify a second account to be used to make the change.</p>
<p>For example, for a secret spec of:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sample</span><span class="p">:</span>
  <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">API User</span>
  <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">api</span>
  <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">qualys</span>
  <span class="nt">rotate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nightly</span>
  <span class="nt">config</span><span class="p">:</span>
     <span class="nt">rotatewith</span><span class="p">:</span>
        <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydra/qualys/backup</span>
        <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secretsmanager</span>
  <span class="nt">distribute</span><span class="p">:</span>
  <span class="p p-Indicator">-</span>
     <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydra/qualys/api</span>
     <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secretsmanager</span>
     <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret</span>
     <span class="nt">envs</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
</pre></div>
</div>
<p>The provider will take an AWS Secrets Manager secret, located at <cite>keydra/qualys/api</cite>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;platform&quot;</span><span class="p">:</span> <span class="s2">&quot;US3&quot;</span><span class="p">,</span>
   <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;apiuser&quot;</span><span class="p">,</span>
   <span class="nt">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;Ssh.Secret!&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then use the creds of the secret at <cite>keydra/qualys/backup</cite> (in Secrets Manager, as configured in the spec) to
connect to the Qualys API and change the password of the <cite>apiuser</cite> account. With the distribution setup in the
example, the new password will then be placed into Secrets Manager, replacing the password with the new one.</p>
<p>See <a class="reference external" href="https://www.qualys.com/platform-identification/">https://www.qualys.com/platform-identification/</a> to identify which platform your instance is on.</p>
<span class="target" id="module-keydra.providers.qualys"></span><dl class="py class">
<dt id="keydra.providers.qualys.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.qualys.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.qualys.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.qualys.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.qualys.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.qualys.Client._rotate_secret">
<code class="sig-name descname"><span class="pre">_rotate_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.qualys.Client._rotate_secret" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate password for an account</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>secret</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – The spec from the secrets yaml</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New secret ready to distribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="keydra.providers.qualys.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.qualys.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.qualys.Client.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.qualys.Client.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.qualys.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.qualys.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.qualys.Client.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.qualys.Client.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-qualys"><span class="std std-ref">Qualys</span></a>.</p>
</div>
<div class="section" id="salesforce">
<h2>Salesforce<a class="headerlink" href="#salesforce" title="Permalink to this headline">¶</a></h2>
<p><em>Salesforce</em> (declared as <cite>salesforce</cite>): currently can only <cite>rotate</cite> secrets.
Please note that users need to be manually created in salesforce
before added here.</p>
<p>Sample secret spec:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">salesforce_sample</span>
<span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Salesforce Example</span>
<span class="nt">custodians</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">your_team</span>
<span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">salesforce</span>
<span class="nt">rotate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nightly</span>
<span class="nt">distribute</span><span class="p">:</span>
<span class="p p-Indicator">-</span>
   <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydra/salesforce/salesforce_sample</span>
   <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secretsmanager</span>
   <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret</span>
   <span class="nt">envs</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
</pre></div>
</div>
<p>The Secrets Manager entry format is as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">{</span>
<span class="s">&quot;provider&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;salesforce&quot;</span><span class="p p-Indicator">,</span>
<span class="s">&quot;key&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;my_sf_user&quot;</span><span class="p p-Indicator">,</span>
<span class="s">&quot;secret&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;my_sf_password&quot;</span><span class="p p-Indicator">,</span>
<span class="s">&quot;token&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;sf_token&quot;</span><span class="p p-Indicator">,</span>
<span class="s">&quot;domain&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;sf_domain&quot;</span>
<span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>The field names can be customised via a <cite>config</cite> section in the spec, e.g.:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">salesforce_sample</span>
<span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Salesforce Example</span>
<span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">salesforce</span>
<span class="nt">config</span><span class="p">:</span>
   <span class="nt">user_field</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SF_USERNAME</span>
   <span class="nt">password_field</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SF_PASSWORD</span>
   <span class="nt">token_field</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SF_TOKEN</span>
   <span class="nt">domain_field</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SF_DOMAIN</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<span class="target" id="module-keydra.providers.salesforce"></span><dl class="py class">
<dt id="keydra.providers.salesforce.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.salesforce.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py class">
<dt id="keydra.providers.salesforce.Client.Options">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">Options</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain_field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.Options" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="keydra.providers.salesforce.Client.Options._asdict">
<code class="sig-name descname"><span class="pre">_asdict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.Options._asdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new dict which maps field names to their values.</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options._field_defaults">
<code class="sig-name descname"><span class="pre">_field_defaults</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{'domain_field':</span> <span class="pre">'domain',</span> <span class="pre">'password_field':</span> <span class="pre">'secret',</span> <span class="pre">'token_field':</span> <span class="pre">'token',</span> <span class="pre">'user_field':</span> <span class="pre">'key'}</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options._field_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options._field_types">
<code class="sig-name descname"><span class="pre">_field_types</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{'domain_field':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'password_field':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'token_field':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'user_field':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;}</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options._field_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options._fields">
<code class="sig-name descname"><span class="pre">_fields</span></code><em class="property"> <span class="pre">=</span> <span class="pre">('user_field',</span> <span class="pre">'password_field',</span> <span class="pre">'token_field',</span> <span class="pre">'domain_field')</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options._fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options._fields_defaults">
<code class="sig-name descname"><span class="pre">_fields_defaults</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options._fields_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client.Options._make">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">_make</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.Options._make" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a new Options object from a sequence or iterable</p>
</dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client.Options._replace">
<code class="sig-name descname"><span class="pre">_replace</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.Options._replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Options object replacing specified fields with new values</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options.domain_field">
<code class="sig-name descname"><span class="pre">domain_field</span></code><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options.domain_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options.password_field">
<code class="sig-name descname"><span class="pre">password_field</span></code><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options.password_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options.token_field">
<code class="sig-name descname"><span class="pre">token_field</span></code><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options.token_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client.Options.user_field">
<code class="sig-name descname"><span class="pre">user_field</span></code><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client.Options.user_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt id="keydra.providers.salesforce.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.salesforce.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client._generate_sforce_passwd">
<code class="sig-name descname"><span class="pre">_generate_sforce_passwd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client._generate_sforce_passwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client._rotate_secret">
<code class="sig-name descname"><span class="pre">_rotate_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client._rotate_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.salesforce.Client.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.salesforce.Client.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-salesforce"><span class="std std-ref">Salesforce</span></a>.</p>
</div>
<div class="section" id="splunk">
<h2>Splunk<a class="headerlink" href="#splunk" title="Permalink to this headline">¶</a></h2>
<p>Provides password rotation and distribution support for Splunk. Rotation allows for Splunk account
passwords to be rotated, while Distribute allows you to save passwords from other providers in Splunk
apps, like Qualys or AWS.</p>
<p>Rotation generates a new 32 character password (using AWS Secrets Manager) and changes the Splunk password
for the account corresponding to the “key” value in the secret. This change is made on all Splunk hosts defined
in the “hosts” key of the secret.</p>
<p>An example secret spec to rotate a Splunk user password and store in AWS Secrets Manager:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">splunkuser</span>
<span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Splunk Rotation Example</span>
<span class="nt">custodians</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">your_team</span>
<span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">splunk</span>
<span class="nt">rotate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nightly</span>
<span class="nt">hosts</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">your.splunkhostname.com</span>
<span class="nt">distribute</span><span class="p">:</span>
<span class="p p-Indicator">-</span>
   <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">keydra/splunk/splunkuser</span>
   <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secretsmanager</span>
   <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret</span>
   <span class="nt">envs</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
</pre></div>
</div>
<p>The Secrets Manager entry format is as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">{</span>
<span class="s">&quot;provider&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;splunk&quot;</span><span class="p p-Indicator">,</span>
<span class="s">&quot;key&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;splunkuser&quot;</span><span class="p p-Indicator">,</span>
<span class="s">&quot;secret&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;abcdefghijklmnopqrstuvwxyz1234567890&quot;</span>
<span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Distribution is a little more complex; configuring a Splunk App or Add-On with a service account to be
used by that app to connect to various data sources. Only one destination host can be specified; if you need to
send to more Splunk hosts you will need another distribution entry. The provider supports either Splunk storage
passwords or a more custom method of actually storing the password on Splunk - which one to use depends on the
destination Splunk TA/app. For example, the AWS app for Splunk uses the custom method, while the Qualys app uses
storage passwords.</p>
<p>The destination app must already be installed on the Splunk instance, though the config entry / storage password
will be created if it doesn’t already exist.</p>
<table class="colwidths-given table" id="id2">
<caption><span class="caption-text">Splunk Provider Distribution Format</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>key</p></td>
<td><p>String</p></td>
<td><p>The object to distribute to. Ignored/optional if we’re saving to a Splunk storage password.</p></td>
</tr>
<tr class="row-odd"><td><p>provider</p></td>
<td><p>String</p></td>
<td><p>Always “splunk” for this provider.</p></td>
</tr>
<tr class="row-even"><td><p>provider_secret_key</p></td>
<td><p>String</p></td>
<td><p>The credentials that should be used to authenticate to the Splunk API. In the code, this value will be
prepended with <cite>keydra/splunk/</cite> to form the secret name in AWS Secrets Manager where the creds are stored.</p></td>
</tr>
<tr class="row-odd"><td><p>source</p></td>
<td><p>Dict</p></td>
<td><p>Used to pass through values from the secret being distributed - format is <cite>splunk field</cite>: <cite>secret key</cite>. In
the example below, a field of “secret_key” will be used in the Splunk post, containing the value of the
“secret” key.</p></td>
</tr>
<tr class="row-even"><td><p>config</p></td>
<td><p>Dict</p></td>
<td><p>See below for details.</p></td>
</tr>
<tr class="row-odd"><td><p>env</p></td>
<td><p>List</p></td>
<td><p>Which environments to run Keydra from. Should match the environment where the secret is held in Secrets Manager.</p></td>
</tr>
</tbody>
</table>
<p>In the <cite>config</cite> section:</p>
<table class="colwidths-given table" id="id3">
<caption><span class="caption-text">Config Format</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>host</p></td>
<td><p>String</p></td>
<td><p>The Splunk host to configure. Only one destination host can be specified, if you need to distribute
to more Splunk hosts you will need another distribution entry.</p></td>
</tr>
<tr class="row-odd"><td><p>app</p></td>
<td><p>String</p></td>
<td><p>Splunk App context to deploy to.</p></td>
</tr>
<tr class="row-even"><td><p>appconfig</p></td>
<td><p>Dict</p></td>
<td><p>Used to add any values needed by this Add-On. All appconfig KV pairs will be passed to the Splunk call as is.</p></td>
</tr>
<tr class="row-odd"><td><p>path</p></td>
<td><p>String</p></td>
<td><p>Optional. Specifies the (case sensitive!) URL path to the configuration section to update. Omit this key to
save to a splunk storage password instead.</p></td>
</tr>
<tr class="row-even"><td><p>realm</p></td>
<td><p>String</p></td>
<td><p>Optional. If storage passwords are being used, the realm to use in the password. Defaults to blank.</p></td>
</tr>
</tbody>
</table>
<p>An example, to rotate an IAM user and distribute it into the AWS app/TA of a Splunk instance:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">km_managed_splunk</span>
<span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Rotate an AWS Splunk integration account</span>
<span class="nt">custodians</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">your_team</span>
<span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">IAM</span>
<span class="nt">rotate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nightly</span>
<span class="nt">distribute</span><span class="p">:</span>
<span class="p p-Indicator">-</span>
   <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_security</span>
   <span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">splunk</span>
   <span class="nt">provider_secret_key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">provisioning_user</span>
   <span class="nt">source</span><span class="p">:</span>
      <span class="nt">key_id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">key</span>
      <span class="nt">secret_key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret</span>
   <span class="nt">config</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Splunk_TA_aws</span>
      <span class="nt">appconfig</span><span class="p">:</span>
        <span class="nt">category</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="nt">output_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
      <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">your.splunkhostname.com</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">splunk_ta_aws_aws_account</span>
   <span class="nt">envs</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
</pre></div>
</div>
<p>What does this do? Keydra will rotate these IAM credentials, then use the Splunk credentials stored in an AWS Secrets
Manager secret, located at ‘keydra/splunk/provisioning_user’ to connect to Splunk. It will then post the key value
pairs in the <cite>config/appconfig</cite> section to the app specified (Splunk_TA_aws), mixing in the keys in the <cite>source</cite>
section after mapping them from the secret. As in, the <cite>key</cite> value from the IAM secret will be posted as <cite>key_id</cite>.</p>
<p>Note: The category 1 reference? This is the category of the account. ‘1’ is AWS Global (not GovCloud).</p>
<p>If your app uses storage passwords (like the Qualys app), the distribution stanza would look more like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span>
<span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">splunk</span>
<span class="nt">provider_secret_key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">provisioning_user</span>
<span class="nt">source</span><span class="p">:</span>
   <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">username</span>
   <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">password</span>
<span class="nt">config</span><span class="p">:</span>
   <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TA-QualysCloudPlatform</span>
   <span class="nt">appconfig</span><span class="p">:</span>
      <span class="nt">output_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
   <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">your.splunkhostname.com</span>
<span class="nt">envs</span><span class="p">:</span>
   <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
</pre></div>
</div>
<span class="target" id="module-keydra.providers.splunk"></span><dl class="py class">
<dt id="keydra.providers.splunk.Client">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">keydra.providers.splunk.</span></code><code class="sig-name descname"><span class="pre">Client</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="keydra.providers.splunk.Client._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#keydra.providers.splunk.Client._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client._dist_custom">
<code class="sig-name descname"><span class="pre">_dist_custom</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client._dist_custom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client._dist_storepass">
<code class="sig-name descname"><span class="pre">_dist_storepass</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client._dist_storepass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client._distribute">
<code class="sig-name descname"><span class="pre">_distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client._distribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute credentials to Splunk as app config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>secret</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – The spec from the secrets yaml</p></li>
<li><p><strong>destination</strong> – The dest spec from the secrets yaml</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The spec as distributed</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client._generate_splunk_passwd">
<code class="sig-name descname"><span class="pre">_generate_splunk_passwd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client._generate_splunk_passwd" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random password from Secrets Manager</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>length</strong> – Length of the new password</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New password as a string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">passwd</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client._rotate_secret">
<code class="sig-name descname"><span class="pre">_rotate_secret</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client._rotate_secret" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate password for an account on a list of Spunk servers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>secret</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – The spec from the secrets yaml</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New secret ready to distribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client.distribute">
<code class="sig-name descname"><span class="pre">distribute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client.distribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client.redact_result">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">redact_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client.redact_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client.rotate">
<code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="keydra.providers.splunk.Client.validate_spec">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">validate_spec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#keydra.providers.splunk.Client.validate_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Uses client <a class="reference internal" href="clients.html#client-splunk"><span class="std std-ref">Splunk</span></a>.</p>
</div>
</div>


              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Athena Home Loans<br/>
        
            &copy; Copyright 2021, Athena Home Loans.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>